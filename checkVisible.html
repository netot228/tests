<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://static.gazeta.ru/nm2021/css/desktop_styles_collect.v141.css">
    <!-- <link rel="stylesheet" href="https://static.gazeta.ru/mobile2021/css/mobile_styles_collect.v93.css"> -->

</head>
<body>

    <div class="p6"></div>

    <div id="_id_topnews" class="b_topnews " aria-hidden="true">
        <div class="b_topnews-arrow m_left">
            <div class="_ui_arrow">
                <span></span>
            </div>
        </div>
        <div class="b_topnews-arrow m_right m_show">
            <div class="_ui_arrow">
                <span></span>
            </div>
        </div>
        <div class="b_topnews-wrapper">
            <div class="b_topnews-content" id="_id_topnews_content">
                <a href="/science/news/2023/06/05/20596922.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/539/16418539/peter-burdon-DgiD2kEoOnk-unsplash-pic_32ratio_300x200-300x200-42775.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Названа опасность выращивания газона для&nbsp;экологии


                        <span class="time">

                            11:20

                        </span>
                    </div>
                </a>
                <a href="/social/news/2023/06/05/20597708.shtml" class="item ">

                    <div class="item-img">
                        <img src="//zoomdecorate.rambler.ru/mnqsrgpsd/YmE0MHQuY2Ryb2V1QHsiZGF0YSI6eyJBY3Rpb24iOiJQcm94eSIsIlJlZmZlcmVyIjoiaHR0cHM6Ly93d3cuZ2F6ZXRhLnJ1LyIsIlByb3RvY29sIjoiaHR0cHM6IiwiSG9zdCI6Ind3dy5nYXpldGEucnUiLCJMaW5rVHlwZSI6ImltYWdlLyoifSwibGluayI6Imh0dHBzOi8vaW1nLmdhemV0YS5ydS9maWxlczMvMzc2LzE1MjI2Mzc2L2Jvb2stNDM3MzI4M18xOTIwLXBpY18zMnJhdGlvXzMwMHgyMDAtMzAweDIwMC0yOTE4Mi5qcGciLCJyYW5kb21TdHJpbmciOiJIa3loZUxkaE9PTXNxM21vTjB2b1p4cm1WdyJ9"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Правоохранители в&nbsp;ЛНР сообщили об изъятии экстремистской литературы у&nbsp;одного...


                        <span class="time">

                            11:20

                        </span>
                    </div>
                </a>
                <a href="/family/news/2023/06/05/20597744.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/320/11700320/upload-SIZ_4832-pic150-150x100-10317.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        В&nbsp;Петербурге двухлетняя девочка отравилась средством от тараканов


                        <span class="time">

                            11:18

                        </span>
                    </div>
                </a>
                <a href="/family/news/2023/06/05/20597576.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/344/17091344/emms-pic_32ratio_300x200-300x200-6099.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Жена Александра Малинина объяснила, почему в&nbsp;школе ее называли Анджелой Дэвис


                        <span class="time">

                            11:13

                        </span>
                    </div>
                </a>
                <a href="/culture/news/2023/06/05/20597642.shtml" class="item " id="_id_topnews_5_item">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/232/16684232/dRwxG4Gu2RU-pic_32ratio_300x200-300x200-26884.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Продюсер Глеба Викторова объяснил появление певца на&nbsp;сцене в&nbsp;невменяемом...


                        <span class="time">

                            11:10

                        </span>
                    </div>
                </a>
                <a href="/politics/news/2023/06/05/20597618.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/389/14582389/RIAN_6504275.HR-pic_32ratio_300x200-300x200-98389.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        В&nbsp;МИД России отреагировали на&nbsp;предложения Индонезии по&nbsp;миру на&nbsp;Украине


                        <span class="time">

                            11:09

                        </span>
                    </div>
                </a>
                <a href="/politics/news/2023/06/05/20597666.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/175/15966175/closeup-view-pharmacist-hand-taking-medicine-box-from-shelf-drug-store-pic_32ratio_300x200-300x200-19278.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Правительство продлило действие упрощенной регистрации и ввоза в&nbsp;РФ лекарств


                        <span class="time">

                            11:07

                        </span>
                    </div>
                </a>
                <a href="/style/news/2023/06/05/20597372.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/104/17091104/GettyImages-1495697687-pic_32ratio_300x200-300x200-56806.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Натали Портман впервые появилась на&nbsp;публике после измены мужа с&nbsp;молодой...


                        <span class="time">

                            11:02

                        </span>
                    </div>
                </a>
                <a href="/army/news/2023/06/05/20597408.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/522/17084522/upload-2023-05-31T170345Z_358741471_RC2K91A733EV_RTRMADP_3_UKRAINE-CRISIS-EAST-pic_32ratio_300x200-300x200-77379.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Российский подполковник сообщил, что ВС России обратили в&nbsp;бегство три украинские...


                        <span class="time">

                            11:00

                        </span>
                    </div>
                </a>
                <a href="/family/news/2023/06/05/20597420.shtml" class="item " id="_id_topnews_long_10_item">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/284/17091284/shutterstock_1779012599-pic_32ratio_300x200-300x200-593.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        В&nbsp;Афганистане зафиксировали массовое отравление среди школьниц


                        <span class="time">

                            10:59

                        </span>
                    </div>
                </a>
                <a href="/sport/news/2023/06/05/20597204.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/431/14216431/upload-11-pic_32ratio_300x200-300x200-33448.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Еноты чуть не сорвали турнир по&nbsp;гольфу в&nbsp;Геленджике


                        <span class="time">

                            10:58

                        </span>
                    </div>
                </a>
                <a href="/culture/news/2023/06/05/20597528.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/441/15589441/310770099_50496147opoop7821823_1364981994883183114_n-pic_32ratio_300x200-300x200-7288.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Ольга Бузова заявила, что играет в&nbsp;футбол лучше Тарасова


                        <span class="time">

                            10:58

                        </span>
                    </div>
                </a>
                <a href="/style/news/2023/06/05/20597318.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/955/16623955/343228588_2897410440392214_2516398895266251066_n-pic_32ratio_300x200-300x200-71927.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        51-летний Джаред Лето подогрел слухи о&nbsp;романе с&nbsp;27-летней моделью из&nbsp;Бирмы


                        <span class="time">

                            10:56

                        </span>
                    </div>
                </a>
                <a href="/family/news/2023/06/05/20597504.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/254/17091254/351734090_160265000356064_4930092214497387272_n-pic_32ratio_300x200-300x200-46902.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Возлюбленная гонщика Макса Ферстаппена показала фигуру в&nbsp;белом купальнике


                        <span class="time">

                            10:54

                        </span>
                    </div>
                </a>
                <a href="/tech/news/2023/06/05/20597582.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/143/14630143/upload-Depositphotos_230696910_XL-pic_32ratio_300x200-300x200-58077.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Пользователь лишился $8 млн в&nbsp;результате хакерской атаки


                        <span class="time">

                            10:54

                        </span>
                    </div>
                </a>
                <a href="/family/news/2023/06/05/20597522.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/220/14749220/RIAN_5774233.HR-pic_32ratio_300x200-300x200-34599.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        В&nbsp;Красноярске пятилетний мальчик выжил после падения с&nbsp;восьмого этажа


                        <span class="time">

                            10:51

                        </span>
                    </div>
                </a>
                <a href="/science/news/2023/06/05/20596916.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/98/17091098/just-pic_32ratio_300x200-300x200-51987.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        В&nbsp;Северном море обнаружен мифический город, который затопило


                        <span class="time">

                            10:51

                        </span>
                    </div>
                </a>
                <a href="/culture/news/2023/06/05/20597510.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/367/16194367/318479809_3209003689413382_9071325390615653105_n-pic_32ratio_300x200-300x200-29379.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Нику Белоцерковскую заподозрили в&nbsp;попытке избежать высоких налогов


                        <span class="time">

                            10:50

                        </span>
                    </div>
                </a>
                <a href="/social/news/2023/06/05/20597438.shtml" class="item ">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/233/16625233/upload-shutterstock_2149142609-pic_32ratio_300x200-300x200-87906.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        В&nbsp;Ульяновской области 16-летняя школьница, отравившаяся сидром, находится...


                        <span class="time">

                            10:49

                        </span>
                    </div>
                </a>
                <a href="/sport/news/2023/06/05/20597210.shtml" class="item " id="_id_topnews_long_last_item">

                    <div class="item-img">
                        <img src="https://img.gazeta.ru/files3/760/13840760/RIAN_6620495.HR-pic_32ratio_300x200-300x200-64766.jpg"
                            loading="lazy">
                    </div>

                    <div class="item-text">


                        Гандболистка Вяхирева: просто сумасшествие, что мы выиграли Лигу чемпионов


                        <span class="time">

                            10:47

                        </span>
                    </div>
                </a>

            </div>
        </div>
    </div>

    <div style="height: 300vh"></div>

    <script>

        'use strict'
        {



            // topnews manipulation

                if(!_id_topnews.classList.contains('m_extra')){

                    let tnLArr  = _id_topnews.querySelector('.b_topnews-arrow.m_left');
                    let tnRArr  = _id_topnews.querySelector('.b_topnews-arrow.m_right');

                    // find gap between siblings items
                    let item1   = _id_topnews_content.querySelector('.item'); // first element in collection
                    let item2   = _id_topnews_content.querySelector('.item:nth-child(2)'); // and a second

                    let gap             = item2.offsetLeft - item1.clientWidth;
                    let tnScrollStep    = (item1.clientWidth + gap)*2;

                    // a/b Test part

                        function createYaMetricSendFunction(rootId, levelId) {
                            return function (type) {
                                var obj = {};
                                obj[rootId] = {};
                                obj[rootId][levelId] = type;
                                ym(27775902, 'params', obj);
                            }
                        }

                        function topNewsABTest(block, rootId, levelId){

                            var wasVisible = false;
                            var wasClicked = false;

                            var isInView = function (el) {
                                let parent = el.offsetParent;
                                return (el.offsetLeft<=(parent.scrollLeft+parent.clientWidth));
                            };

                            var sendYa = createYaMetricSendFunction(rootId, levelId);
                            sendYa("setup");

                            _id_topnews_content.addEventListener('scroll', e=>{
                                if(isInView(block)){
                                    if(!wasVisible){
                                        sendYa("view");
                                        wasVisible = true;
                                    }
                                }
                            })

                            block.addEventListener("click", e=>{
                                if (!wasClicked) {
                                    sendYa("clicked");
                                    wasClicked = true;
                                }
                                sendYa("click");
                            })

                        }

                        let items = _id_topnews_content.querySelectorAll('.item');
                        let isLongVar = Math.random()>0.5 ? true : false;

                        items.forEach((el,i)=>{
                            if(i==4){
                                el.id = '_id_topnews_5_item';
                                topNewsABTest(el, 'topNewsDesc_AB', 'news_5');
                            }
                            if(isLongVar){
                                if(i==9){
                                    el.id = '_id_topnews_long_10_item';
                                    topNewsABTest(el, 'topNewsDesc_AB', 'Long_news_10');
                                } else if(i==(items.length-1)){
                                    el.id = '_id_topnews_long_last_item';
                                    topNewsABTest(el, 'topNewsDesc_AB', 'Long_last_news');
                                }
                            } else {
                                if(i==9){
                                    el.id = '_id_topnews_short_10_item';
                                    topNewsABTest(el, 'topNewsDesc_AB', 'Short_last_news');
                                }
                                if(i>9){
                                    el.remove();
                                }
                            }
                        });
                    // END a/b Test part

                    // topnews content extreme points
                    let tnMaxScroll = _id_topnews_content.scrollWidth - _id_topnews_content.offsetWidth;
                    let scroll;
                    let topNewsScrollFlag = false;

                    tnLArr.addEventListener('click', scrollNews);
                    tnRArr.addEventListener('click', scrollNews);
                    _id_topnews_content.addEventListener('scroll', scrollNews);

                    function scrollNews(e){

                        if(topNewsScrollFlag) return;

                        if(e.type == 'click'){

                            if(this.classList.contains('m_right')){
                                scroll = _id_topnews_content.scrollLeft + tnScrollStep;
                                if( scroll > tnMaxScroll ){
                                    scroll = tnMaxScroll;
                                }
                            } else if(this.classList.contains('m_left')) {
                                scroll = _id_topnews_content.scrollLeft - tnScrollStep;

                                if( scroll < 0 ){
                                    scroll = 0;
                                }
                            }

                            animationScroll(scroll);
                        } else {
                            scroll = _id_topnews_content.scrollLeft;
                            showHideArrows(scroll);
                        }

                    }

                    function animationScroll(scroll){

                        topNewsScrollFlag = true;

                        let duration = 300;
                        let start = performance.now();
                        let k;
                        let startValue = _id_topnews_content.scrollLeft;


                        function easing(x){
                            return Math.pow(1 - x, 2) * 3 * x * 0.1 + (1 - x) * 3 * Math.pow(x,2) + Math.pow(x,3);
                        }

                        let reqId = requestAnimationFrame(function animate(time){

                            let x = (time-start)/duration;

                            let newValue = scroll > startValue ?
                                                    startValue + Math.abs(startValue - scroll)*easing(x) :
                                                    startValue - Math.abs(startValue - scroll)*easing(x);


                            _id_topnews_content.scrollLeft  = x > 1 && scroll != newValue ? scroll : newValue;

                            if(x>1){
                                topNewsScrollFlag = false;
                                showHideArrows(scroll);
                                cancelAnimationFrame(reqId);
                            } else {
                                requestAnimationFrame(animate);
                            }

                        })
                    }

                    function showHideArrows(scroll){
                        if(scroll>0 && scroll!=tnMaxScroll){
                            tnLArr.classList.add('m_show');
                            tnRArr.classList.add('m_show');
                        } else if(scroll>=tnMaxScroll) {
                            tnRArr.classList.remove('m_show');

                            // topNewsCounter('#_id_topnews', 'scrollToEnd', 'topnews');

                        } else if(scroll<=0) {
                            tnLArr.classList.remove('m_show');
                        }
                    }
                }

        }
    </script>

</body>
</html>